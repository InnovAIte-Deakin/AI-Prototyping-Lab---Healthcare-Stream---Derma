.\venv\Scripts\python.exe : INFO  
[alembic.runtime.migration] Context 
impl PostgresqlImpl.
At line:1 char:1
+ .\venv\Scripts\python.exe -m 
alembic upgrade head 2>&1 | 
Out-File -Fi ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSp 
   ecified: (INFO  [alembic....Pos  
  tgresqlImpl.:String) [], Remote   
 Exception
    + FullyQualifiedErrorId : Nativ 
   eCommandError
 
INFO  [alembic.runtime.migration] 
Will assume transactional DDL.
INFO  [alembic.runtime.migration] 
Running upgrade 2e28fad97467, 
5b1a06f2a6f8 -> 32706033288b, merge 
heads
INFO  [alembic.runtime.migration] 
Running upgrade 32706033288b -> 
9f2c8d4e6b11, Add patient rating to 
analysis reports
INFO  [alembic.runtime.migration] 
Running upgrade 9f2c8d4e6b11 -> 
36795edd63cd, Add rating fields
Traceback (most recent call last):
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\base.py", line 
1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, 
effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\default.py", 
line 951, in do_execute
    cursor.execute(statement, 
parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
^^^^^
psycopg2.errors.DuplicateTable: 
relation "users" already exists


The above exception was the direct 
cause of the following exception:

Traceback (most recent call last):
  File "<frozen runpy>", line 198, 
in _run_module_as_main
  File "<frozen runpy>", line 88, 
in _run_code
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\__main__.py", line 4, in 
<module>
    main(prog="alembic")
    ~~~~^^^^^^^^^^^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\config.py", line 1033, in 
main
    CommandLine(prog=prog).main(argv
=argv)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\config.py", line 1023, in 
main
    self.run_cmd(cfg, options)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\config.py", line 957, in 
run_cmd
    fn(
    ~~^
        config,
        ^^^^^^^
        *[getattr(options, k, None) 
for k in positional],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^
        **{k: getattr(options, k, 
None) for k in kwarg},
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\command.py", line 483, in 
upgrade
    script.run_env()
    ~~~~~~~~~~~~~~^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\script\base.py", line 
545, in run_env
    util.load_python_file(self.dir, 
"env.py")
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
^^^^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\util\pyfiles.py", line 
116, in load_python_file
    module = 
load_module_py(module_id, path)
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\util\pyfiles.py", line 
136, in load_module_py
    spec.loader.exec_module(module) 
 # type: ignore
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "<frozen 
importlib._bootstrap_external>", 
line 1023, in exec_module
  File "<frozen 
importlib._bootstrap>", line 488, 
in _call_with_frames_removed
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\alembic\env.py", 
line 84, in <module>
    run_migrations_online()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\alembic\env.py", 
line 78, in run_migrations_online
    context.run_migrations()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 8, in 
run_migrations
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\runtime\environment.py", 
line 946, in run_migrations
    self.get_context().run_migration
s(**kw)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\runtime\migration.py", 
line 627, in run_migrations
    step.migration_fn(**kw)
    ~~~~~~~~~~~~~~~~~^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\alembic\versions\3679
5edd63cd_add_rating_fields.py", 
line 24, in upgrade
    op.create_table('users',
    ~~~~~~~~~~~~~~~^^^^^^^^^
    sa.Column('id', sa.Integer(), 
nullable=False),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^
    ...<4 lines>...
    sa.PrimaryKeyConstraint('id')
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "<string>", line 8, in 
create_table
  File "<string>", line 3, in 
create_table
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\operations\ops.py", line 
1332, in create_table
    return operations.invoke(op)
           ~~~~~~~~~~~~~~~~~^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\operations\base.py", line 
454, in invoke
    return fn(self, operation)
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\operations\toimpl.py", 
line 135, in create_table
    
operations.impl.create_table(table, 
**kw)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^
^^^^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\ddl\impl.py", line 423, 
in create_table
    self._exec(schema.CreateTable(ta
ble, **kw))
    ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\alembic\ddl\impl.py", line 246, 
in _exec
    return conn.execute(construct, 
params)
           
~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\base.py", line 
1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or 
NO_OPTIONS,
    )
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\sql\ddl.py", line 187, 
in _execute_on_connection
    return connection._execute_ddl(
           ~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, 
execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^
    )
    ^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\base.py", line 
1530, in _execute_ddl
    ret = self._execute_context(
        dialect,
    ...<4 lines>...
        compiled,
    )
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\base.py", line 
1846, in _execute_context
    return 
self._exec_single_context(
           
~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, 
statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^
    )
    ^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\base.py", line 
1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, 
effective_parameters, cursor, 
context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\base.py", line 
2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_
traceback(exc_info[2]) from e
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\base.py", line 
1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, 
effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Han\DS\2025_T3\Derma\AI-P
rototyping-Lab---Healthcare-Stream--
-Derma\backend\venv\Lib\site-package
s\sqlalchemy\engine\default.py", 
line 951, in do_execute
    cursor.execute(statement, 
parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
^^^^^
sqlalchemy.exc.ProgrammingError: 
(psycopg2.errors.DuplicateTable) 
relation "users" already exists

[SQL: 
CREATE TABLE users (
	id SERIAL NOT NULL, 
	email VARCHAR NOT NULL, 
	password VARCHAR NOT NULL, 
	role VARCHAR NOT NULL, 
	created_at TIMESTAMP WITH TIME 
ZONE DEFAULT (CURRENT_TIMESTAMP), 
	PRIMARY KEY (id)
)

]
(Background on this error at: 
https://sqlalche.me/e/20/f405)
